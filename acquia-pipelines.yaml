version: 1.2.0

events:
  build:
    steps:
      - build:
          script:
            - nvm install v12.7.0
            - nvm use v12.7.0
            - npm install --production
      - upload-artifact:
          script:
            - echo "Testing Hosting API store artifact success scenario"
            - pipelines-artifact start
            - pipelines-artifact upload $SOURCE_DIR
  fail-on-build:
    steps:
      - fail:
          script:
            - pipelines-artifact fail
